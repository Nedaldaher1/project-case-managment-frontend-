import{r as t,u as P,j as e,I as x,B as _,b as F,_ as k}from"./index-mz9mZwsC.js";import{S as h,a as o,b as u,c as j,d as s}from"./select-BbpFdzmn.js";const L=()=>{const[p,b]=t.useState(""),[v,N]=t.useState(""),[r,w]=t.useState(""),[n,f]=t.useState(""),[A,g]=t.useState(""),[D,d]=t.useState(""),[y,S]=t.useState(""),{tempUserData:m}=P(),C=m==null?void 0:m.member_id;t.useEffect(()=>{if(r&&n){const a=new Date(r);a.setDate(a.getDate()+parseInt(n,10)-1);const l=a.toLocaleDateString("ar-EG",{year:"numeric",month:"numeric",day:"numeric"});g(l)}},[r,n]);const R=async a=>{a.preventDefault();try{await F.post("http://localhost:3000/api/public/cases/add",{caseNumber:p,defendantName:v,startDate:r,imprisonmentDuration:n,member_location:D,type_case:y,member_number:C}),k.success("تم إضافة القضية بنجاح"),b(""),N(""),w(""),f(""),g(""),d("")}catch(l){k.error("فشلت عملية إضافة القضية"),F.isAxiosError(l)&&l.response?console.log(l.response.data.message):console.log("An unexpected error occurred")}},i=a=>{const{name:l,value:c}=a.target;switch(l){case"caseNumber":b(c);break;case"accusedName":N(c);break;case"caseDate":w(c);break;case"casePrisonDate":f(c);break;case"memberLocation":d(c);break;case"caseType":S(c);break}};return e.jsx("div",{className:"flex items-center justify-center h-[120vh]",children:e.jsx("div",{className:" w-[427px] h-[660px] bg-[#1A1A1A] rounded-2xl flex items-center justify-center",children:e.jsxs("form",{onSubmit:R,className:"flex w-[348px] h-[433px] justify-center items-center content-center gap-x-[36px] gap-y-[40px] flex-shrink-0 flex-wrap",children:[e.jsxs("div",{dir:"rtl",className:"w-[156px]",children:[e.jsx("label",{className:" text-white  text-sm",htmlFor:"accusedName",children:"اسم المتهم"}),e.jsx(x,{type:"text",value:v,onChange:i,name:"accusedName"})]}),e.jsxs("div",{dir:"rtl",className:"w-[156px]",children:[e.jsx("label",{className:" text-white text-sm",htmlFor:"caseNumber",children:"رقم القضية"}),e.jsx(x,{type:"text",value:p,onChange:i,name:"caseNumber"})]}),e.jsxs("div",{dir:"rtl",className:"w-[156px]",children:[e.jsx("label",{className:" text-white text-sm",htmlFor:"caseDate",children:"بداية المدة"}),e.jsx(x,{type:"date",value:r,onChange:i,name:"caseDate"})]}),e.jsxs("div",{dir:"rtl",className:"w-[156px]",children:[e.jsx("label",{className:" text-white text-sm",htmlFor:"casePrisonDate",children:"مدة الحبس"}),e.jsx(x,{type:"number",value:n,onChange:i,name:"casePrisonDate",min:"1"})]}),e.jsxs("div",{dir:"rtl",className:"w-[156px]",children:[e.jsx("label",{className:" text-white text-sm",htmlFor:"caseRenewalDate",children:"رقم العضو"}),e.jsxs(h,{dir:"rtl",disabled:!0,value:(C??"").toString(),children:[e.jsx(o,{className:"w-[156px]",children:e.jsx(u,{placeholder:"رقم العضو"})}),e.jsxs(j,{children:[e.jsx(s,{value:"1",children:"1"}),e.jsx(s,{value:"2",children:"2"}),e.jsx(s,{value:"3",children:"3"}),e.jsx(s,{value:"4",children:"4"}),e.jsx(s,{value:"5",children:"5"}),e.jsx(s,{value:"6",children:"6"}),e.jsx(s,{value:"7",children:"7"}),e.jsx(s,{value:"8",children:"8"}),e.jsx(s,{value:"9",children:"9"}),e.jsx(s,{value:"10",children:"10"})]})]})]}),e.jsxs("div",{dir:"rtl",className:"w-[156px]",children:[e.jsx("label",{className:" text-white text-sm",htmlFor:"caseRenewalDate",children:"مكان التجديد"}),e.jsxs(h,{dir:"rtl",value:D,onValueChange:a=>d(a),children:[e.jsx(o,{className:"w-[156px]",children:e.jsx(u,{placeholder:"مكان التجديد"})}),e.jsxs(j,{children:[e.jsx(s,{value:"جزئي",children:"جزئي"}),e.jsx(s,{value:"مستأنف",children:"مستأنف"}),e.jsx(s,{value:"جنايات",children:"جنايات"}),e.jsx(s,{value:"رئيس نيابة",children:"رئيس نيابة"})]})]})]}),e.jsxs("div",{dir:"rtl",className:"w-[156px]",children:[e.jsx("label",{className:" text-white text-sm",htmlFor:"caseRenewalDate",children:"نوع القضية"}),e.jsxs(h,{dir:"rtl",value:y,onValueChange:a=>S(a),children:[e.jsx(o,{className:"w-[156px]",children:e.jsx(u,{placeholder:"نوع القضية"})}),e.jsxs(j,{children:[e.jsx(s,{value:"جنحة ",children:"جنحة "}),e.jsx(s,{value:"جناية  ",children:"جناية  "}),e.jsx(s,{value:"اداري ",children:"اداري "})]})]})]}),e.jsxs("div",{dir:"rtl",className:"w-[173px] flex items-center justify-center flex-col gap-4",children:[e.jsx("label",{className:" text-white text-sm",htmlFor:"caseRenewalDate",children:"موعد التجديد"}),e.jsx("div",{className:"w-[173px] bg-white h-[40px] rounded-sm flex items-center justify-center ",children:e.jsx("p",{children:A})})]}),e.jsx(_,{type:"submit",className:"w-[252px] bg-[#45369f] hover:bg-[#5643bd]",children:"إضافة"})]})})})};export{L as default};
